<div class="inner">
    <section class="section section--asided">
        <header class="section__header section__header--nodescription">
            <div class="inner">
                <h1 class="section__title">
                    {{ 'Edit project' | translate }}: # {{ editProjectCtrl.project.projectId }}
                </h1>
            </div>
        </header>
        <div class="section-container edit-project">
            <div class="section__body section__body--secondary">
                <div class="inner">
                    <aside class="section__aside-content">
                        <h1 class="section__aside-title">{{ 'In this area' | translate }}</h1>
                        <nav class="section__aside-nav" role="navigation">
                            <ul class="aside-menu">
                                <li>
                                    <a title="{{ 'Edit description' | translate }}" ng-click="editProjectCtrl.currentSection = 'description'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'description' ? 'aside-menu-item--active' : ''">
                                    {{ 'Description' | translate }} *
                                        <span ng-show="editProjectCtrl.nameMissing || editProjectCtrl.shortDescriptionMissing || editProjectCtrl.descriptionMissing">
                                            <span class="missing-email-indicator fa fa-exclamation"></span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit instructions' | translate }}" ng-click="editProjectCtrl.currentSection = 'instructions'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'instructions' ? 'aside-menu-item--active' : ''">
                                        {{ 'Instructions' | translate }} *
                                        <span ng-show="editProjectCtrl.instructionsMissing">
                                            <span class="missing-email-indicator fa fa-exclamation"></span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit tags' | translate }}" ng-click="editProjectCtrl.currentSection = 'metadata'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'metadata' ? 'aside-menu-item--active' : ''">
                                        {{ 'Metadata' | translate }} *
                                        <span ng-show="!editProjectCtrl.editForm.organisationTag.$valid || !editProjectCtrl.editForm.campaignTag.$valid || editProjectCtrl.organisationTagMissing || editProjectCtrl.mappingTypeMissing">
                                            <span class="missing-email-indicator fa fa-exclamation"></span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit priority areas' | translate }}" ng-click="editProjectCtrl.currentSection = 'priorityareas'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'priorityareas' ? 'aside-menu-item--active' : ''">
                                        {{ 'Priority areas' | translate }}
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit imagery' | translate }}" ng-click="editProjectCtrl.currentSection = 'imagery'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'imagery' ? 'aside-menu-item--active' : ''">
                                        {{ 'Imagery' | translate }}
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit permissions' | translate }}" ng-click="editProjectCtrl.currentSection = 'permissions'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'permissions' ? 'aside-menu-item--active' : ''">
                                        {{ 'Permissions' | translate }}
                                        <span ng-show="editProjectCtrl.project.private && editProjectCtrl.project.allowedUsernames.length < 1">
                                            <span class="missing-email-indicator fa fa-exclamation"></span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a title="{{ 'Edit settings' | translate }}" ng-click="editProjectCtrl.currentSection = 'settings'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'settings' ? 'aside-menu-item--active' : ''">
                                        {{ 'Settings' | translate }}
                                        <span ng-show="editProjectCtrl.project.mappingEditors.length < 1 || editProjectCtrl.project.validationEditors.length < 1">
                                            <span class="missing-email-indicator fa fa-exclamation"></span>
                                        </span>
                                    </a>

                                </li>
                                <li>
                                    <a title="{{ 'Project wide actions' | translate }}" ng-click="editProjectCtrl.currentSection = 'actions'"
                                       class="aside-menu-item" ng-class="editProjectCtrl.currentSection === 'actions' ? 'aside-menu-item--active' : ''">
                                        {{ 'Actions' | translate }}
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </aside>

                    <!-- section main content -->
                    <div class="section__main-content">
                        <form class="form" name="editProjectCtrl.editForm">
                        <!-- error -->
                        <p class="error" ng-show="editProjectCtrl.errorReturningProjectMetadata">{{ 'An error occurred' | translate }}</p>
                        <!-- /error -->
                        <!-- description section -->
                        <div ng-show="editProjectCtrl.currentSection === 'description'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Status' | translate }}</label>
                                    <select class="form__control" ng-model="editProjectCtrl.project.projectStatus">
                                        <option value="PUBLISHED">{{ 'Published' | translate }}</option>
                                        <option value="ARCHIVED">{{ 'Archived' | translate }}</option>
                                        <option value="DRAFT">{{ 'Draft' | translate }}</option>
                                    </select>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Priority' | translate }}</label>
                                    <select class="form__control" ng-model="editProjectCtrl.project.projectPriority">
                                        <option value="URGENT">{{ 'Urgent' | translate }}</option>
                                        <option value="HIGH">{{ 'High' | translate }}</option>
                                        <option value="MEDIUM">{{ 'Medium' | translate }}</option>
                                        <option value="LOW">{{ 'Low' | translate }}</option>
                                    </select>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Name of the project' | translate }} *</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.nameLanguage === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeLanguageName(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                    <div ng-repeat="info in editProjectCtrl.project.projectInfoLocales">
                                        <div ng-show="info.locale === editProjectCtrl.nameLanguage">
                                            <input type="text" class="form__control"
                                                   name="name"
                                                   ng-model="info.name"/>
                                        </div>
                                    </div>
                                    <p class="error" ng-show="editProjectCtrl.nameMissing">
                                        {{ 'A name for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Short description' | translate }} *</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.shortDescriptionLanguage === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeLanguageShortDescription(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                    <div ng-repeat="info in editProjectCtrl.project.projectInfoLocales">
                                        <div ng-show="info.locale === editProjectCtrl.shortDescriptionLanguage">
                                            <textarea
                                                    class="form__control"
                                                    ng-model="info.shortDescription" rows="4">
                                            </textarea>
                                            <p><strong>{{ 'Tip' | translate }}:</strong> {{ 'You can use Markdown. (HTML is not allowed)' | translate }}</p>
                                            <button class="button button--secondary button--small"
                                                    ng-click="editProjectCtrl.showPreviewShortDescription = !editProjectCtrl.showPreviewShortDescription">
                                                {{ 'Preview' | translate }}
                                            </button>
                                            <p class="textblock--fulltext" ng-show="editProjectCtrl.showPreviewShortDescription" markdown-to-html="info.shortDescription"></p>
                                        </div>
                                    </div>
                                    <p class="error" ng-show="editProjectCtrl.shortDescriptionMissing">
                                        {{ 'A short description for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Description' | translate }} *</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.descriptionLanguage === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeLanguageDescription(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                    <div ng-repeat="info in editProjectCtrl.project.projectInfoLocales">
                                        <div ng-show="info.locale === editProjectCtrl.descriptionLanguage">
                                            <textarea
                                                    class="form__control"
                                                    ng-model="info.description" rows="10">
                                            </textarea>
                                            <p><strong>{{ 'Tip' | translate }}:</strong> {{ 'You can use Markdown. (HTML is not allowed)' | translate }}</p>
                                            <button class="button button--secondary button--small"
                                                    ng-click="editProjectCtrl.showPreviewDescription = !editProjectCtrl.showPreviewDescription">
                                                {{ 'Preview' | translate }}
                                            </button>
                                            <p class="textblock--fulltext" ng-show="editProjectCtrl.showPreviewDescription"
                                               markdown-to-html="info.description"
                                               ng-model="editProjectCtrl.descriptionHTML">
                                            </p>
                                        </div>
                                    </div>
                                    <p class="error" ng-show="editProjectCtrl.descriptionMissing">
                                        {{ 'A description for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                </div>
                            </fieldset>
                        </div>
                        <!--/ description section-->
                        <!-- instructions section -->
                        <div ng-show="editProjectCtrl.currentSection === 'instructions'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Entities to map' | translate }}</label>
                                    <input type="text" class="form__control" ng-model="editProjectCtrl.project.entitiesToMap"/>
                                    <p>{{ 'The list of entities to map.' | translate }}</p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Changeset comment' | translate }}</label>
                                    <input type="text" class="form__control" ng-model="editProjectCtrl.project.changesetComment"/>
                                    <p>
                                        {{ 'Default comments added to uploaded changeset comment field. Users should also be encouraged to add text describing what they mapped. Example: #hotosm-project-470 #missingmaps Buildings mapping. Hashtags are sometimes used for analysis later, but should be human informative and not overused, #group #event for example.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Detailed Instructions' | translate }} *</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.instructionsLanguage === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeLanguageInstructions(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                    <div ng-repeat="info in editProjectCtrl.project.projectInfoLocales">
                                        <div ng-show="info.locale === editProjectCtrl.instructionsLanguage">
                                            <textarea
                                                    class="form__control"
                                                    ng-model="info.instructions" rows="10">
                                            </textarea>
                                            <p><strong>{{ 'Tip' | translate }}:</strong> {{ 'You can use Markdown. (HTML is not allowed)' | translate }}</p>
                                            <button class="button button--secondary button--small"
                                                    ng-click="editProjectCtrl.showPreviewInstructions = !editProjectCtrl.showPreviewInstructions">
                                                {{ 'Preview' | translate }}
                                            </button>
                                            <p class="textblock--fulltext" ng-show="editProjectCtrl.showPreviewInstructions" markdown-to-html="info.instructions"></p>
                                        </div>
                                    </div>
                                    <p class="error" ng-show="editProjectCtrl.instructionsMissing">
                                        {{ 'Instructions for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'are missing.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Per Task Instructions' | translate }}</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.perTaskInstructionsLanguage === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeLanguagePerTaskInstructions(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                    <div ng-repeat="info in editProjectCtrl.project.projectInfoLocales">
                                        <div ng-show="info.locale === editProjectCtrl.perTaskInstructionsLanguage">
                                            <textarea
                                                    class="form__control"
                                                    ng-model="info.perTaskInstructions" rows="4">
                                            </textarea>
                                            <p><strong>{{ 'Tip' | translate }}:</strong> {{ 'You can use Markdown. (HTML is not allowed)' | translate }}</p>
                                            <p ng-if="editProjectCtrl.project.taskCreationMode == 'GRID' ">
                                                {{ 'Put here anything that can be useful to users while taking a task. {x}, {y} and {z} will be replaced by the corresponding parameters for each task.
                                                {x}, {y} and {z} parameters can only be be used on tasks generated in the Tasking Manager and not on imported tasks.
                                                For example: « This task involves loading extra data. Click [here](http://localhost:8111/import?new_layer=true&url=http://www.domain.com/data/{x}/{y}/{z}/routes_2009.osm) to load the data into JOSM ».' | translate }}</p>
                                            <p ng-if="editProjectCtrl.project.taskCreationMode == 'ARBITRARY'">
                                                {{ 'Put here anything that can be useful to users while taking a task. If you have added extra properties within the GeoJSON of the task, they can be referenced by surrounding them in curly braces. For eg. if you have a property called "import_url" in your GeoJSON, you can reference it like:' | translate }}
                                                <code>This task involves loading extra data. Click [here](http://localhost:8111/import?new_layer=true&url={import_url}) to load the data into JOSM</code>
                                            </p>
                                            <button class="button button--secondary button--small"
                                                    ng-click="editProjectCtrl.showPreviewPerTaskInstructions = !editProjectCtrl.showPreviewPerTaskInstructions">
                                                {{ 'Preview' | translate }}
                                            </button>
                                            <p class="textblock--fulltext" ng-show="editProjectCtrl.showPreviewPerTaskInstructions" markdown-to-html="info.perTaskInstructions"></p>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <!--/ instructions section -->
                        <!-- metadata section -->
                        <div ng-show="editProjectCtrl.currentSection === 'metadata'">
                            <fieldset class="form__fieldset">
                                <p>{{ 'Metadata and tags are used to allow users to find projects to work on and group projects.' | translate }}</p>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Mapper Level' | translate }}</label>
                                    <div class="button-group button-group--horizontal" role="group"
                                         aria-label="{{ 'choose mapping level' | translate }}">
                                        <button class="button button--achromic" type="button"
                                                ng-class="editProjectCtrl.project.mapperLevel === 'BEGINNER'? 'button--active' : ''"
                                                ng-click="editProjectCtrl.setMapperLevel('BEGINNER')">
                                            {{ 'Beginner' | translate }}
                                        </button>
                                        <button class="button button--achromic" type="button"
                                                ng-class="editProjectCtrl.project.mapperLevel === 'INTERMEDIATE'? 'button--active' : ''"
                                                ng-click="editProjectCtrl.setMapperLevel('INTERMEDIATE')">
                                            {{ 'Intermediate' | translate }}
                                        </button>
                                        <button class="button button--achromic" type="button"
                                                ng-class="editProjectCtrl.project.mapperLevel === 'ADVANCED'? 'button--active' : ''"
                                                ng-click="editProjectCtrl.setMapperLevel('ADVANCED')">
                                            {{ 'Advanced' | translate }}
                                        </button>
                                    </div>
                                    <p>{{ 'Setting the level will help the mappers find suitable projects to work on. You can enforce the level required for mapping in the permissions section.' | translate }}</p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Type(s) of mapping' | translate }} *</label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingTypes.roads"/>{{ 'Roads' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingTypes.buildings"/>{{ 'Buildings' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingTypes.waterways"/>{{ 'Waterways' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingTypes.landuse"/>{{ 'Landuse' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingTypes.other"/>{{ 'Other' | translate }}
                                    </label>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Organisation Tag' | translate }} *</label>
                                    <p>{{ 'Only one organisation tag is allowed.' | translate }}</p>
                                    <tags-input ng-model="editProjectCtrl.projectOrganisationTag"
                                        name="organisationTag" placeholder="{{ 'choose from existing tags or create a new one' | translate }}"
                                        replace-spaces-with-dashes="false" max-tags="1">
                                        <auto-complete source="editProjectCtrl.getOrganisationTags($query)"></auto-complete>
                                    </tags-input>
                                    <p class="error" ng-show="!editProjectCtrl.editForm.organisationTag.$valid">
                                        {{ 'Please make sure you only have one organisation tag.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Campaign Tag' | translate }}</label>
                                    <p>{{ 'Only one campaign tag is allowed.' | translate }}</p>
                                    <tags-input ng-model="editProjectCtrl.projectCampaignTag"
                                        name="campaignTag" placeholder="{{ 'choose from existing tags or create a new one' | translate }}"
                                                replace-spaces-with-dashes="false" max-tags="1">
                                        <auto-complete source="editProjectCtrl.getCampaignTags($query)"></auto-complete>
                                    </tags-input>
                                    <p class="error" ng-show="!editProjectCtrl.editForm.campaignTag.$valid">
                                        {{ 'Please make sure you only have one campaign tag.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'OSMCha Filter Id' | translate }}</label>
                                    <input type="text" class="form__control" ng-model="editProjectCtrl.project.osmchaFilterId"/>
                                    <p>
                                        {{ 'Optional id of a saved OSMCha filter to apply when viewing the project in OSMCha, if you desire custom filtering. Note that this replaces all standard filters. Example: 095e8b31-b3cb-4b36-a106-02826fb6a109 (for convenience, you can also paste an OSMCha URL here that uses a saved filter and the filter id will be extracted for you).' | translate }}
                                    </p>
                                </div>
                            </fieldset>
                        </div>
                        <!--/ metadata section -->
                        <!-- imagery section -->
                        <div ng-show="editProjectCtrl.currentSection === 'imagery'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'URL to service' | translate }}</label>
                                    <input type="text" class="form__control form__control--medium"
                                           name="imagery"
                                        ng-model="editProjectCtrl.project.imagery"/>
                                    <p>{{ 'Note: follow this format for TMS URLs:' | translate }} tms[22]:http://hiu-maps.net/hot/1.0.0/kathmandu_flipped/{zoom}/{x}/{y}.png</p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Required license' | translate }}</label>
                                    <select class="form__control form__control--medium"
                                            ng-options="license.name for license in editProjectCtrl.licenses"
                                            ng-model="editProjectCtrl.projectLicense">
                                         <option value="">-- {{ 'no license' | translate }} --</option>
                                    </select>
                                </div>
                            </fieldset>
                        </div>
                        <!--/ imagery section -->
                        <!-- priority area section -->
                        <div ng-show="editProjectCtrl.currentSection === 'priorityareas'">
                            <p>{{ editProjectCtrl.numberOfPriorityAreas }} {{ 'priority areas' | translate }}</p>
                            <div>
                                <p>{{ 'If you want mappers to work on the highest priority areas first, draw one of more polygons within the project area.' | translate }}</p>
                            </div>
                            <div class="button-group button-group--horizontal" role="group" aria-label="{{ 'priority area drawing tools' | translate }}">
                                <button class="button button--sm"
                                        ng-class="editProjectCtrl.drawPolygonInteraction.getActive() ? 'button--active' : ''"
                                        ng-click="editProjectCtrl.drawPriorityPolygon()">{{ 'Draw polygon' | translate }}</button>
                                <button class="button button--sm"
                                        ng-class="editProjectCtrl.drawRectangleInteraction.getActive() ? 'button--active' : ''"
                                        ng-click="editProjectCtrl.drawPriorityRectangle()">{{ 'Draw rectangle' | translate }}</button>
                                <button class="button button--sm"
                                        ng-class="editProjectCtrl.drawCircleInteraction.getActive() ? 'button--active' : ''"
                                        ng-click="editProjectCtrl.drawPriorityCircle()">{{ 'Draw circle' | translate }}</button>
                                <button class="button button--sm new-line"
                                        ng-class="editProjectCtrl.editPriority ? 'button--active' : ''"
                                        ng-click="editProjectCtrl.editPriorityArea()">{{ 'Edit' | translate }}</button>
                                <button class="button button--sm button--secondary"
                                        ng-class="editProjectCtrl.deletePriority ? 'button--active' : ''"
                                        ng-click="editProjectCtrl.deletePriorityArea()">{{ 'Delete' | translate }}</button>
                                <button class="button button--sm button--outline--secondary"
                                        ng-click="editProjectCtrl.clearAllPriorityAreas()">{{ 'Clear all' | translate }}</button>
                            </div>
                            <div id="map" class="map-container"></div>
                        </div>
                        <!--/ priority area section -->
                        <!-- permissions -->
                        <div ng-show="editProjectCtrl.currentSection === 'permissions'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Mappers' | translate }}</label>
                                    <label class="form__option">
                                        <input ng-model="editProjectCtrl.project.enforceMapperLevel" type="checkbox"/>{{ 'Only mappers with experience level' | translate }} {{ editProjectCtrl.project.mapperLevel }} {{ 'or higher can map' | translate }}
                                    </label>
                                    <p>{{ 'If checked, only users with the listed mapper experience level will be able to contribute to this project. If unchecked, anyone can contribute. Go to the Metadata panel to change the mapper experience level for this project.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Validators' | translate }}</label>
                                    <label class="form__option">
                                        <input ng-model="editProjectCtrl.project.enforceValidatorRole" type="checkbox" />{{ 'Require users to be validators' | translate }}
                                    </label>
                                    <p>{{ 'If checked, only users with the Validator role will be able to validate tasks in this project. If unchecked, anyone can validate or invalidate tasks.' | translate }}</p>
                                    <label class="form__option">
                                        <input ng-model="editProjectCtrl.project.allowNonBeginners" type="checkbox"/>{{ 'Require experience level INTERMEDIATE or ADVANCED' | translate }}
                                    </label>
                                    <p>{{ ' If checked, only users with the experience level of Intermediate and Advanced will be able to validate tasks in this project.' | translate }}</p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Private Project' | translate }}</label>
                                    <label class="form__option">
                                        <input ng-model="editProjectCtrl.project.private" type="checkbox" ng-click="editProjectCtrl.onPrivateChange()"/>{{ 'Private' | translate }}
                                    </label>
                                    <p>{{ 'Private means that only the given list of users below can access this project. Before a user name can be added to the Allowed Users list the user must first login to this installation of OSM Tasking Manager.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Allowed users on private project' | translate }}</label>
                                    <ul>
                                        <li ng-repeat="user in editProjectCtrl.project.allowedUsernames">
                                            {{ user }} <i class="hot-ds-icon-sm-xmark" ng-click="editProjectCtrl.removeUser(user)"></i>
                                        </li>
                                    </ul>
                                    <div class="form__input-group">
                                        <input type="text" ng-model="user" placeholder="{{ 'Type a username' | translate }}"
                                               ng-change="editProjectCtrl.enableAddUser(false)"
                                           class="form__control form__control--medium"
                                           uib-typeahead="user for user in editProjectCtrl.getUser($viewValue)"
                                           typeahead-loading="loadingLocations"
                                           typeahead-no-results="noResults"
                                           typeahead-on-select="editProjectCtrl.enableAddUser(true)">
                                        <span class="form__input-group-button">
                                            <button type="submit" class="button button--achromic button--medium"
                                                    ng-click="editProjectCtrl.addUser(user)"
                                                   ng-class="!editProjectCtrl.project.private || !editProjectCtrl.addUserEnabled ? 'disabled' : ''">
                                                <span>{{ 'Add user' | translate }}</span>
                                            </button>
                                        </span>
                                        <p class="error" ng-show="editProjectCtrl.project.private && editProjectCtrl.project.allowedUsernames.length < 1">
                                            {{ 'You need to add at least one allowed user to a private project.' | translate }}
                                        </p>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <!--/ permissions -->
                        <!-- settings -->
                        <div ng-show="editProjectCtrl.currentSection === 'settings'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Default locale' | translate }}</label>
                                    <ul class="buttons--language">
                                        <li class="button-group button-group--horizontal"
                                             ng-repeat="locale in editProjectCtrl.locales"
                                             role="group"
                                             aria-label="{{ 'choose default locale' | translate }}">
                                            <button class="button button--small button--achromic" type="button"
                                                    ng-class="editProjectCtrl.project.defaultLocale === locale ? 'button--active' : ''"
                                                    ng-click="editProjectCtrl.changeDefaultLocale(locale)">
                                                    {{ locale }}
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Editors for mapping' | translate }}</label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingEditors.id"/>{{ 'iD Editor' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingEditors.josm"/>{{ 'JOSM' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingEditors.potlatch2"/>{{ 'Potlatch 2' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.mappingEditors.fieldpapers"/>{{ 'Field Papers' | translate }}
                                    </label>
                                    <p class="error" ng-show="editProjectCtrl.project.mappingEditors.length < 1">
                                        {{ 'You need at least one mapping editor.' | translate }}
                                    </p>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Editors for validation' | translate }}</label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.validationEditors.id"/>{{ 'iD Editor' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.validationEditors.josm"/>{{ 'JOSM' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.validationEditors.potlatch2"/>{{ 'Potlatch 2' | translate }}
                                    </label>
                                    <label class="form__option">
                                        <input type="checkbox" ng-model="editProjectCtrl.validationEditors.fieldpapers"/>{{ 'Field Papers' | translate }}
                                    </label>
                                    <p class="error" ng-show="editProjectCtrl.project.validationEditors.length < 1">
                                        {{ 'You need at least one validation editor.' | translate }}
                                    </p>
                                </div>
                            </fieldset>
                        </div>
                            <!--/ settings -->
                            <!-- actions -->
                        <div ng-show="editProjectCtrl.currentSection === 'actions'">
                            <fieldset class="form__fieldset">
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Message all contributors' | translate }}</label>
                                    <div>
                                        <button class="button button--secondary" type="button"
                                            ng-click="editProjectCtrl.showMessageContributors(true)">
                                            {{ 'Message all contributors' | translate }}
                                        </button>
                                    </div>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Mapping, Validation and Invalidation' | translate }}</label>
                                    <p>{{ 'Use this if for some reason you need to map, validate or invalidate all tasks in this project in a single step.' | translate }}</p>
                                    <div class="alert alert--warning" role="alert">
                                        <p><strong>{{ 'Warning' | translate }}:</strong> {{ 'This cannot be undone.' | translate }}</p>
                                    </div>
                                    <button class="button button--secondary" type="button"
                                        ng-click="editProjectCtrl.showMapConfirmation(true)">
                                        {{ 'Map all tasks' | translate }}
                                    </button>
                                    <button class="button button--secondary" type="button"
                                        ng-click="editProjectCtrl.showInvalidateConfirmation(true)">
                                        {{ 'Invalidate all tasks' | translate }}
                                    </button>
                                    <button class="button button--secondary" type="button"
                                        ng-click="editProjectCtrl.showValidateConfirmation(true)">
                                        {{ 'Validate all tasks' | translate }}
                                    </button>
                                    <div style="margin-top: 5px">
                                        <button class="button button--secondary" type="button"
                                        ng-click="editProjectCtrl.showResetBadImageryConfirmation(true)">
                                        {{ 'Reset all bad imagery tasks' | translate }}
                                        </button>
                                    </div>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Delete project' | translate }}</label>
                                    <p>{{ 'You can only delete projects with no contributions.' | translate }}</p>
                                    <div class="alert alert--warning" role="alert">
                                        <p><strong>{{ 'Warning' | translate }}:</strong> {{ 'This cannot be undone.' | translate }}</p>
                                    </div>
                                    <button class="button button--secondary" type="button"
                                            ng-click="editProjectCtrl.showDeleteConfirmation(true)">
                                        {{ 'Delete project' | translate }}
                                    </button>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Transfer project' | translate }}</label>
                                    <div class="alert alert--warning" role="alert">
                                        <p><strong>{{ 'Warning' | translate }}:</strong> {{ 'This cannot be undone.' | translate }}</p>
                                        <p>{{ 'The selected user needs to be project manager or administratror role assigned'  | translate }}</p>
                                    </div>
                                    <div style="margin-top: 5px">
                                        <tags-input ng-model="editProjectCtrl.transferProjectTo"
                                        name="projectTransferTo" placeholder="{{ 'Search for username' | translate }}"
                                        replace-spaces-with-dashes="false" max-tags="1">
                                        <auto-complete source="editProjectCtrl.getUser($query, true)"></auto-complete> 
                                        <p class="error" ng-show="editProjectCtrl.showTransferEmptyUserError">{{ 'Please enter a valid username' | translate }}</p>
                                    </div>
                                    <button class="button button--secondary" type="button"
                                            ng-click="editProjectCtrl.showTransferConfirmation(true)">
                                        {{ 'Transfer project' | translate }}
                                    </button>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Reset tasks' | translate }}</label>
                                    <p>{{ 'Reset all tasks in the project to ready to map, preserving history.' | translate }}</p>
                                    <div class="alert alert--warning" role="alert">
                                        <p><strong>{{ 'Warning' | translate }}:</strong> {{ 'This cannot be undone.' | translate }}</p>
                                    </div>
                                    <button class="button button--secondary" type="button"
                                            ng-click="editProjectCtrl.showResetConfirmation(true)">
                                        {{ 'Reset tasks' | translate }}
                                    </button>
                                </div>
                                <div class="form__group form__group--section">
                                    <label class="form__label">{{ 'Clone project' | translate }}</label>
                                    <p>{{ 'This will clone all descriptions, instructions, metadata etc. The Area of Interest, the tasks and the priority areas will not be cloned. You will have to redraw/import these. Your newly cloned project will be in draft status.' | translate }}</p>
                                    <button class="button button--secondary" type="button"
                                            ng-click="editProjectCtrl.cloneProject()">
                                        {{ 'Clone project' | translate }}
                                    </button>
                                </div>
                            </fieldset>
                        </div>
                            <!--/ actions -->
                            <div ng-show="editProjectCtrl.currentSection !== 'actions'">
                                <div class="button-group">
                                    <button class="button button--primary" type="button"
                                            ng-click="editProjectCtrl.saveEdits()">{{ 'Save changes' | translate }}
                                    </button>
                                    <a class="button button--achromic button--secondary"
                                       href="/project/{{ editProjectCtrl.project.projectId }}">
                                        {{ 'Go to project' | translate }}
                                    </a>
                                </div>
                                <div class="button-group">
                                    <div>
                                        <p ng-show="editProjectCtrl.updateProjectSuccess">{{ 'Your project has been updated successfully.' | translate }}</p>
                                        <p class="error" ng-show="editProjectCtrl.updateProjectFail">{{ 'There was an error updating your project. Please try again.' | translate }}</p>
                                    </div>
                                </div>
                                <div>
                                    <p class="error" ng-show="editProjectCtrl.project.private && editProjectCtrl.project.allowedUsernames.length < 1">
                                        {{ 'You need to add at least one allowed user to a private project.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.nameMissing">
                                        {{ 'A name for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.shortDescriptionMissing">
                                        {{ 'A short description for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.descriptionMissing">
                                        {{ 'A description for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'is missing.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.instructionsMissing">
                                        {{ 'Instructions for the default locale' | translate }} "{{ editProjectCtrl.project.defaultLocale }}" {{ 'are missing.' | translate }}
                                    </p>
                                    <p class="error" ng-show="!editProjectCtrl.editForm.campaignTag.$valid">
                                        {{ 'Please make sure you only have one campaign tag.' | translate }}
                                    </p>
                                    <p class="error" ng-show="!editProjectCtrl.editForm.organisationTag.$valid">
                                        {{ 'Please make sure you only have one organisation tag.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.organisationTagMissing">
                                        {{ 'An organisation tag is missing.' | translate }}
                                    </p>
                                    <p class="error" ng-show="editProjectCtrl.mappingTypeMissing">
                                        {{ 'A mapping type selection is missing.' | translate }}
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!--/ section main content -->
        </div>
    </section>
</div>
<!-- delete project confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showDeleteConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Delete project' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <p ng-hide="editProjectCtrl.deleteProjectSuccess">
                {{ 'Are you sure you want to delete this project? You cannot undo deleting a project.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.deleteProjectSuccess">{{ 'The project was deleted successfully.' | translate }}</p>
            <p ng-show="editProjectCtrl.deleteProjectFail" class="error">{{ 'The project was not deleted successfully. This project might have some contributions.' | translate }}</p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.deleteProjectSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showDeleteConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.deleteProject()">{{ 'Delete' | translate }}
                </button>
            </div>
            <div ng-show="editProjectCtrl.deleteProjectSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.goToHome()">{{ 'Go to the homepage' | translate }}
                </button>
            </div>
        </footer>
    </div>`
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showDeleteConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- delete project confirmation modal -->

<!-- transter project confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showTransferConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Transfer project' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <p ng-hide="editProjectCtrl.transferProjectSuccess">
                {{ 'Are you sure you want to transfer this project? You cannot undo transfering a project.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.transferProjectSuccess">{{ 'The project was transfered successfully.' | translate }}</p>
            <p ng-show="editProjectCtrl.transferProjectFail" class="error">{{ 'The project was not transfered successfully.' | translate }}</p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.transferProjectSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showTransferConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.transferProject()">{{ 'Transfer' | translate }}
                </button>
            </div>
            <div ng-show="editProjectCtrl.transferProjectSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.goToHome()">{{ 'Go to the homepage' | translate }}
                </button>
            </div>
        </footer>
    </div>`
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showTransferConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- delete project confirmation modal -->

<!-- map tasks confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showMapConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Task mapping' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.mapTasksSuccess">
                <p>
                    {{ 'Are you sure you want to mark all tasks in this project as mapped? You cannot undo this.' | translate }}
                </p>
                <p>
                    {{ 'This will mark all tasks (except bad imagery tasks) as mapped. Please use this only if you are sure of what you are doing.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.mapTasksSuccess">
                {{ 'The tasks were mapped successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.mapTasksFail" class="error">
                {{ 'Mapping all the tasks failed for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.mapTasksSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showMapConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.mapAllTasks()">{{ 'Map all tasks' | translate }}
                </button>
                <span ng-show="editProjectCtrl.mapInProgress">{{ 'Mapping...' | translate }}</span>
            </div>
            <div ng-show="editProjectCtrl.mapTasksSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.showMapConfirmation(false)">{{ 'Close message' | translate }}
                </button>
            </div>
        </footer>
    </div>
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showMapConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- map tasks confirmation modal -->

<!-- reset all bad imagery tasks confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showResetBadImageryConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Reset Bad Imagery Tasks' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.resetBadImagerySuccess">
                <p>
                    {{ 'Are you sure you want to mark all bad imagery tasks in this project as ready? You cannot undo this.' | translate }}
                </p>
                <p>
                    {{ 'This will mark all bad imagery tasks as ready. Please use this only if you are sure of what you are doing.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.resetBadImagerySuccess">
                {{ 'The tasks were reset successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.resetBadImageryFail" class="error">
                {{ 'Resetting all the bad imagery tasks failed for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.resetBadImagerySuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showResetBadImageryConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.resetBadImageryTasks()">{{ 'Reset all bad imagery tasks' | translate }}
                </button>
                <span ng-show="editProjectCtrl.resetBadImageryInProgress">{{ 'Loading...' | translate }}</span>
            </div>
            <div ng-show="editProjectCtrl.resetBadImagerySuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.showResetBadImageryConfirmation(false)">{{ 'Close message' | translate }}
                </button>
            </div>
        </footer>
    </div>
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showResetBadImageryConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- reset all bad imagery tasks confirmation modal -->

<!-- invalidate tasks confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showInvalidateConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Task invalidation' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.invalidateTasksSuccess">
                <p>
                    {{ 'Are you sure you want to invalidate all tasks in this project? You cannot undo this.' | translate }}
                </p>
                <p>
                    {{ 'This will mark all tasks (except non completed and bad imagery tasks) as invalid. Please use this only if you are sure of what you are doing.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.invalidateTasksSuccess">
                {{ 'The tasks were invalidated successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.invalidateTasksFail" class="error">
                {{ 'Invalidating all the tasks failed for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.invalidateTasksSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showInvalidateConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.invalidateAllTasks()">{{ 'Invalidate all tasks' | translate }}
                </button>
                <span ng-show="editProjectCtrl.invalidateInProgress">{{ 'Invalidating...' | translate }}</span>
            </div>
            <div ng-show="editProjectCtrl.invalidateTasksSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.showInvalidateConfirmation(false)">{{ 'Close message' | translate }}
                </button>
            </div>
        </footer>
    </div>
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showInvalidateConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- invalidate tasks confirmation modal -->

<!-- validate tasks confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showValidateConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Task validation' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.validateTasksSuccess">
                <p>
                    {{ 'Are you sure you want to validate all tasks? You cannot undo this.' | translate }}
                </p>
                <p>
                    {{ 'This will mark all tasks (except bad imagery) as valid. Please use this only if you are sure of what you are doing.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.validateTasksSuccess">
                {{ 'The tasks were marked validated successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.validateTasksFail" class="error">
                {{ 'Failed to mark all task valid for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.validateTasksSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showValidateConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.validateAllTasks()">{{ 'Validate all tasks' | translate }}
                </button>
                <span ng-show="editProjectCtrl.validateInProgress">{{ 'Validating...' | translate }}</span>
            </div>
            <div ng-show="editProjectCtrl.validateTasksSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.showValidateConfirmation(false)">{{ 'Close message' | translate }}
                </button>
            </div>
        </footer>
    </div>
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showValidateConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- validate tasks confirmation modal -->

<!-- reset tasks confirmation modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showResetConfirmationModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h1 class="modal__title">{{ 'Task reset' | translate }}</h1>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.resetTasksSuccess">
                <p>
                    {{ 'Are you sure you want to reset all tasks? You cannot undo this.' | translate }}
                </p>
                <p>
                    {{ 'This will reset all tasks to ready to map (preserving existing history). Please use this only if you are sure of what you are doing.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.resetTasksSuccess">
                {{ 'The tasks were reset successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.resetTasksFail" class="error">
                {{ 'Failed to reset all tasks for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div ng-hide="editProjectCtrl.resetTasksSuccess">
                <button class="button button--achromic" type="button"
                        ng-click="editProjectCtrl.showResetConfirmation(false)">{{ 'Cancel' | translate }}
                </button>
                <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.resetAllTasks()">{{ 'Reset all tasks' | translate }}
                </button>
                <span ng-show="editProjectCtrl.resetInProgress">{{ 'Resetting...' | translate }}</span>
            </div>
            <div ng-show="editProjectCtrl.resetTasksSuccess">
                 <button class="button button--base" type="button"
                        ng-click="editProjectCtrl.showResetConfirmation(false)">{{ 'Close message' | translate }}
                </button>
            </div>
        </footer>
    </div>
    <button class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showResetConfirmation(false)">
        {{ 'Dismiss' | translate }}
    </button>
</section>
<!-- reset tasks confirmation modal -->

<!-- message contributors modal -->
<section class="modal modal-tm" ng-show="editProjectCtrl.showMessageContributorsModal">
    <div class="modal__inner">
        <header class="modal__header">
            <div class="modal__headline">
                <h3 class="modal__title">{{ 'Message all contributors' | translate }}</h3>
            </div>
        </header>
        <div class="modal__body">
            <div ng-hide="editProjectCtrl.validateTasksSuccess">
                <p>
                    {{ 'This will send a Tasking Manager message to every contributor of the current project. Please use this feature carefully.' | translate }}
                </p>
                <form name="editProjectCtrl.form">
                    <ul class="list-type--none form__standard">
                        <li>
                            <input type="text" class="form__control" ng-model="editProjectCtrl.messageSubject"
                                   name="subject" required
                                   placeholder="{{ 'Subject' | translate }}*" />
                        </li>
                        <li ng-show="form.$submitted || form.subject.$touched">
                            <span class="error" ng-show="form.subject.$error.required">*{{ 'Required' | translate}}</span>
                        </li>
                        <li>
                            <textarea class="form__control" rows="4" ng-model="editProjectCtrl.messageContent"
                                      name="messageContent"
                                      required
                                      placeholder="{{ 'Message' | translate }}*">
                            </textarea>
                        </li>
                        <li ng-show="form.$submitted || form.messageContent.$touched">
                            <span class="error" ng-show="form.messageContent.$error.required">*{{ 'Required' | translate}}</span>
                        </li>
                    </ul>
                </form>
                <p>
                    {{ 'This message is not translated to the selected language of the user, so you may want to include your own translations.' | translate }}
                </p>
            </div>
            <p ng-show="editProjectCtrl.sendMessageSuccess">
                {{ 'Contributors were messaged successfully.' | translate }}
            </p>
            <p ng-show="editProjectCtrl.sendMessageFail" class="error">
                {{ 'Failed to message all contributors for an unknown reason.' | translate }}
            </p>
        </div>
        <footer class="modal__footer">
            <div>
                <button class="button" type="button"
                        ng-disabled="editProjectCtrl.form.$invalid"
                        ng-click="editProjectCtrl.sendMessage()">{{ 'Message all contributors' | translate }}
                </button>
                <button class="button button--secondary" type="button"
                        ng-click="editProjectCtrl.showMessageContributors(false)">{{ 'Cancel' | translate }}
                </button>
                <span ng-show="editProjectCtrl.sendMessageInProgress">{{ 'Sending...' | translate }}</span>
            </div>
        </footer>
    </div>
    <a class="modal__button-dismiss" title="{{ 'Close' | translate }}" ng-click="editProjectCtrl.showMessageContributors(false)">
        {{ 'Dismiss' | translate }}
    </a>
</section>
<!-- message contributors modal -->
